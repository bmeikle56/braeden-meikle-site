{"ast":null,"code":"const user='braeden';const BASE_URL=`https://braeden-meikle-site-backend.onrender.com`;//`${process.env.REACT_APP_SERVER_BASE_URL}${service}?user=${user}`\nconst body={method:'GET',headers:{'Content-Type':'application/json','Cache-Control':'no-cache'}};let newBytesRead;/*****     Public APIs     *****//*   Get list of byte read/unread statuses   */function getUnread(setData,setLoading,now){const service='/getUnread';fetch(`${BASE_URL}${service}?user=${user}`,body).then(res=>res.json()).then(d=>{newBytesRead=d.unreadList;/*   We want the screen to animate for minimum 2 seconds   */if(Date.now()<now+2000){setTimeout(()=>{setData(d);setLoading(false);},2000-(Date.now()-now));}else{setData(d);setLoading(false);}});}/*   Mark a byte newly read  */function markRead(index){newBytesRead[index]=0;console.log(newBytesRead);}/*****                     *****//*  Before the user leaves, dump and mark all bytes read   */window.addEventListener('beforeunload',_=>{console.log(newBytesRead);const service='/read';fetch(`${BASE_URL}${service}?read=${user}`,body);});export{getUnread,markRead};","map":{"version":3,"names":["user","BASE_URL","body","method","headers","newBytesRead","getUnread","setData","setLoading","now","service","fetch","then","res","json","d","unreadList","Date","setTimeout","markRead","index","console","log","window","addEventListener","_"],"sources":["/Users/braedenmeikle/Documents/repo/braeden-meikle-site/client/src/api.js"],"sourcesContent":["\nconst user = 'braeden'\nconst BASE_URL =  `https://braeden-meikle-site-backend.onrender.com` //`${process.env.REACT_APP_SERVER_BASE_URL}${service}?user=${user}`\n\nconst body = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Cache-Control': 'no-cache'\n    } \n}\n\nlet newBytesRead\n\n/*****     Public APIs     *****/\n\n/*   Get list of byte read/unread statuses   */\nfunction getUnread(setData, setLoading, now) {\n  const service = '/getUnread'\n  fetch(`${BASE_URL}${service}?user=${user}`, body).then(res => res.json()).then(d => { \n    newBytesRead = d.unreadList\n\n    /*   We want the screen to animate for minimum 2 seconds   */\n    if (Date.now() < now + 2000) {\n      setTimeout(() => {\n        setData(d)\n        setLoading(false)\n      }, 2000 - (Date.now() - now))\n    } else {\n      setData(d)\n      setLoading(false)\n    }\n  })\n}\n\n/*   Mark a byte newly read  */\nfunction markRead(index) {\n  newBytesRead[index] = 0\n  console.log(newBytesRead)\n}\n\n/*****                     *****/\n\n/*  Before the user leaves, dump and mark all bytes read   */\nwindow.addEventListener('beforeunload', _ => {\n  console.log(newBytesRead)\n  const service = '/read'\n  fetch(`${BASE_URL}${service}?read=${user}`, body)\n})\n\nexport { getUnread, markRead }"],"mappings":"AACA,KAAM,CAAAA,IAAI,CAAG,SAAS,CACtB,KAAM,CAAAC,QAAQ,CAAI,kDAAkD,CAAC;AAErE,KAAM,CAAAC,IAAI,CAAG,CACTC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,CAAE,UACnB,CACJ,CAAC,CAED,GAAI,CAAAC,YAAY,CAEhB,iCAEA,+CACA,QAAS,CAAAC,SAASA,CAACC,OAAO,CAAEC,UAAU,CAAEC,GAAG,CAAE,CAC3C,KAAM,CAAAC,OAAO,CAAG,YAAY,CAC5BC,KAAK,CAAC,GAAGV,QAAQ,GAAGS,OAAO,SAASV,IAAI,EAAE,CAAEE,IAAI,CAAC,CAACU,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACF,IAAI,CAACG,CAAC,EAAI,CAClFV,YAAY,CAAGU,CAAC,CAACC,UAAU,CAE3B,6DACA,GAAIC,IAAI,CAACR,GAAG,CAAC,CAAC,CAAGA,GAAG,CAAG,IAAI,CAAE,CAC3BS,UAAU,CAAC,IAAM,CACfX,OAAO,CAACQ,CAAC,CAAC,CACVP,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAE,IAAI,EAAIS,IAAI,CAACR,GAAG,CAAC,CAAC,CAAGA,GAAG,CAAC,CAAC,CAC/B,CAAC,IAAM,CACLF,OAAO,CAACQ,CAAC,CAAC,CACVP,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAAC,CACJ,CAEA,+BACA,QAAS,CAAAW,QAAQA,CAACC,KAAK,CAAE,CACvBf,YAAY,CAACe,KAAK,CAAC,CAAG,CAAC,CACvBC,OAAO,CAACC,GAAG,CAACjB,YAAY,CAAC,CAC3B,CAEA,iCAEA,6DACAkB,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAEC,CAAC,EAAI,CAC3CJ,OAAO,CAACC,GAAG,CAACjB,YAAY,CAAC,CACzB,KAAM,CAAAK,OAAO,CAAG,OAAO,CACvBC,KAAK,CAAC,GAAGV,QAAQ,GAAGS,OAAO,SAASV,IAAI,EAAE,CAAEE,IAAI,CAAC,CACnD,CAAC,CAAC,CAEF,OAASI,SAAS,CAAEa,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}