{"ast":null,"code":"const user = Math.floor(Math.random() * 2) === 1 ? 'user7' : 'user2';\nconst BASE_URL = `https://braeden-meikle-site-backend.onrender.com`; //`${process.env.REACT_APP_SERVER_BASE_URL}${service}?user=${user}`\n\nconst body = {\n  method: 'GET',\n  headers: {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache'\n  }\n};\nlet oldBytesRead, newBytesRead;\nfunction getUnread(setData, setLoading, now) {\n  const service = '/getUnread';\n  fetch(`${BASE_URL}${service}?user=${user}`, body).then(res => res.json()).then(d => {\n    console.log('newBytesRead');\n    console.log(d);\n    oldBytesRead.unreadList = d;\n    newBytesRead.unreadList = d;\n    /* We want the screen to animate for minimum 2 seconds */\n    if (Date.now() < now + 2000) {\n      setTimeout(() => {\n        setData(d);\n        setLoading(false);\n      }, 2000 - (Date.now() - now));\n    } else {\n      setData(d);\n      setLoading(false);\n    }\n  });\n}\nfunction markRead(index) {\n  console.log('marked read!');\n  // console.log(newBytesRead)\n  newBytesRead.unreadList[index] = 0;\n  console.log(newBytesRead);\n}\nfunction read() {\n  console.log(newBytesRead);\n  const service = '/read';\n  fetch(`${BASE_URL}${service}?read=${user}`, body);\n}\n\n/*  Before the user leaves, dump and mark all bytes read   */\nwindow.addEventListener('beforeunload', _ => {\n  read();\n});\nexport { getUnread, markRead };","map":{"version":3,"names":["user","Math","floor","random","BASE_URL","body","method","headers","oldBytesRead","newBytesRead","getUnread","setData","setLoading","now","service","fetch","then","res","json","d","console","log","unreadList","Date","setTimeout","markRead","index","read","window","addEventListener","_"],"sources":["/Users/braedenmeikle/Documents/repo/braeden-meikle-site/client/src/api.js"],"sourcesContent":["\nconst user = Math.floor(Math.random()*2) === 1 ? 'user7' : 'user2'\nconst BASE_URL =  `https://braeden-meikle-site-backend.onrender.com` //`${process.env.REACT_APP_SERVER_BASE_URL}${service}?user=${user}`\n\nconst body = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Cache-Control': 'no-cache'\n    } \n}\n\nlet oldBytesRead, newBytesRead\n\nfunction getUnread(setData, setLoading, now) {\n  const service = '/getUnread'\n  fetch(`${BASE_URL}${service}?user=${user}`, body).then(res => res.json()).then(d => { \n    console.log('newBytesRead')\n    console.log(d)\n    oldBytesRead.unreadList = d\n    newBytesRead.unreadList = d\n    /* We want the screen to animate for minimum 2 seconds */\n    if (Date.now() < now + 2000) {\n      setTimeout(() => {\n        setData(d)\n        setLoading(false)\n      }, 2000 - (Date.now() - now))\n    } else {\n      setData(d)\n      setLoading(false)\n    }\n  })\n}\n\n\n\nfunction markRead(index) {\n  console.log('marked read!')\n  // console.log(newBytesRead)\n  newBytesRead.unreadList[index] = 0\n  console.log(newBytesRead)\n}\n\nfunction read() {\n  console.log(newBytesRead)\n  const service = '/read'\n  fetch(`${BASE_URL}${service}?read=${user}`, body)\n}\n\n\n\n/*  Before the user leaves, dump and mark all bytes read   */\nwindow.addEventListener('beforeunload', _ => {\n  read()\n})\n\n\n\n\n\nexport { getUnread, markRead }"],"mappings":"AACA,MAAMA,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,KAAK,CAAC,GAAG,OAAO,GAAG,OAAO;AAClE,MAAMC,QAAQ,GAAI,kDAAkD,EAAC;;AAErE,MAAMC,IAAI,GAAG;EACTC,MAAM,EAAE,KAAK;EACbC,OAAO,EAAE;IACP,cAAc,EAAE,kBAAkB;IAClC,eAAe,EAAE;EACnB;AACJ,CAAC;AAED,IAAIC,YAAY,EAAEC,YAAY;AAE9B,SAASC,SAASA,CAACC,OAAO,EAAEC,UAAU,EAAEC,GAAG,EAAE;EAC3C,MAAMC,OAAO,GAAG,YAAY;EAC5BC,KAAK,CAAC,GAAGX,QAAQ,GAAGU,OAAO,SAASd,IAAI,EAAE,EAAEK,IAAI,CAAC,CAACW,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAACF,IAAI,CAACG,CAAC,IAAI;IAClFC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;IAC3BD,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;IACdX,YAAY,CAACc,UAAU,GAAGH,CAAC;IAC3BV,YAAY,CAACa,UAAU,GAAGH,CAAC;IAC3B;IACA,IAAII,IAAI,CAACV,GAAG,CAAC,CAAC,GAAGA,GAAG,GAAG,IAAI,EAAE;MAC3BW,UAAU,CAAC,MAAM;QACfb,OAAO,CAACQ,CAAC,CAAC;QACVP,UAAU,CAAC,KAAK,CAAC;MACnB,CAAC,EAAE,IAAI,IAAIW,IAAI,CAACV,GAAG,CAAC,CAAC,GAAGA,GAAG,CAAC,CAAC;IAC/B,CAAC,MAAM;MACLF,OAAO,CAACQ,CAAC,CAAC;MACVP,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,CAAC;AACJ;AAIA,SAASa,QAAQA,CAACC,KAAK,EAAE;EACvBN,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;EAC3B;EACAZ,YAAY,CAACa,UAAU,CAACI,KAAK,CAAC,GAAG,CAAC;EAClCN,OAAO,CAACC,GAAG,CAACZ,YAAY,CAAC;AAC3B;AAEA,SAASkB,IAAIA,CAAA,EAAG;EACdP,OAAO,CAACC,GAAG,CAACZ,YAAY,CAAC;EACzB,MAAMK,OAAO,GAAG,OAAO;EACvBC,KAAK,CAAC,GAAGX,QAAQ,GAAGU,OAAO,SAASd,IAAI,EAAE,EAAEK,IAAI,CAAC;AACnD;;AAIA;AACAuB,MAAM,CAACC,gBAAgB,CAAC,cAAc,EAAEC,CAAC,IAAI;EAC3CH,IAAI,CAAC,CAAC;AACR,CAAC,CAAC;AAMF,SAASjB,SAAS,EAAEe,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}